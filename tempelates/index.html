<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Diagnosis</title>
</head>
<body>
    <h1>Heart Disease Diagnosis</h1>
    <form id="diagnosisForm">
        <!-- Add input fields based on your model's features -->
        <label for="sex">Sex:</label>
<select id="sex" name="sex">
    <option value="0">Female</option>
    <option value="1">Male</option>
</select>

<!-- Add more input fields for other features -->

        <label for="age">Age:</label>
        <input type="text" id="age" name="age" required>

        <!-- Add more input fields for other features -->

        <button type="button" onclick="predict()">Predict</button>
    </form>

    <div id="result"></div>

    <script>
        function predict() {
    const form = document.getElementById('diagnosisForm');
    const formData = new FormData(form);
    const data = {};
    formData.forEach((value, key) => {
        data[key] = value;
    });

    console.log('Sending data:', data);

    fetch('/predict', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
    })
    .then(response => response.json())
    .then(result => {
        console.log('Received result:', result);
        document.getElementById('result').innerHTML = `
            <p>Multi-class Prediction: ${result.categorical_pred}</p>
            <p>Binary Prediction: ${result.binary_pred}</p>
        `;
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById('result').innerHTML = 'An error occurred during prediction.';
    });
}





    </script>
    
</body>
</html>
